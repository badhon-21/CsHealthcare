@model CsHealthcare.ViewModel.Patient.DischargeViewModel
@{
    ViewBag.Title = "TotalBillCopy";
    Layout = null;
}


<style type="text/css">
    @@page {
        size: auto;
        margin: 0;
    }

    .page {
        width: 21cm;
        min-height: 29.7cm;
        padding: 1cm;
        /*background: #d3d3d3;*/
    }

    .subpage {
        padding: 1cm;
        height: 256mm;
        outline: 2cm #FFEAEA solid;
    }

    table, th, td {
        /*border: 1px solid black;*/
        border-collapse: collapse;
    }

    table {
        border-spacing: 3px;
    }

    th, td {
        padding: 3px 5px;
    }

    @@print {
        .hide-from-printer {
            display: none;
        }
    }
</style>
<div class="page">
    <h2 style="text-align: center; "><img src="~/assets/layouts/layout/img/logoblhl.png" /></h2>
    <div style="text-align: center;">1 East Rampura, D.I.T. Road , Dhaka-1219</div>
    <div style="text-align: center;">
        Hot Line:<a class="tel">09639786786,&nbsp;</a><a class="tel">09678786787</a>
    </div>
    <div style="text-align: center;margin: 10px auto; border: 1px solid; width: 150px"><span style="font-weight: bold">HOSPITAL BILL</span> </div>
    <div>
        @*<p >PurchaseDate: &nbsp;@Model.RecordDate.ToString("d")</p>
            <p >Company Name: &nbsp;@Model.DRUG_MANUFACTURERName</p>*@

        <table style="width: 90%; margin: 0 auto; border: 0px solid !important;">
            <tbody>
                <tr>
                    <td style="width: 100px;">NO:</td>
                    <td style="width: 246px;border-bottom: 1px dotted #7c7c7e;">@Model.VoucherNo</td>
                    <td style="width: 100px;">Bill Date:</td>
                    <td style="width: 306px;border-bottom: 1px dotted #7c7c7e;">@Model.CreatedDate.ToString("dd/MM/yyyy hh:mm")</td>
                </tr>

                <tr>
                    <td style="width: 100px;">Patient Code:</td>
                    <td style="width: 246px;border-bottom: 1px dotted #7c7c7e;">@Model.PatientCode</td>
                    <td style="width: 100px;"> Admission  No:</td>
                    <td style="width: 306px;border-bottom: 1px dotted #7c7c7e;">@Model.AdmissionNo</td>

                </tr>
                <tr>
                    <td style="width: 100px;">Name:</td>
                    <td style="border-bottom: 1px dotted #7c7c7e;" colspan="3">@Model.PatientName</td>

                </tr>
                <tr>
                    <td style="width: 120px;">Address:</td>
                    <td style="border-bottom: 1px dotted #7c7c7e;" colspan="3">@Model.Address</td>

                </tr>
                <tr>
                    <td style="width: 120px;">Cabin Code:</td>
                    <td style="width: 246px;border-bottom: 1px dotted #7c7c7e;">@Model.CabinName</td>
                    <td style="width: 120px;"></td>
                    <td style="width: 306px;"></td>

                </tr>
            <tr>
                <td style="width: 125px;">Admission Date:</td>
                <td style="width: 246px; border-bottom: 1px dotted #7c7c7e;">@Model.AdmissionDate.ToString("dd/MM/yyyy")</td>
                <td style="width: 125px;"> Discharge Date :</td>
                <td style="width: 306px; border-bottom: 1px dotted #7c7c7e;">@Model.DischargeDate.ToString("dd/MM/yyyy")</td>

            </tr>
                <tr>
                    <td style="width: 125px;">Due Collection Date:</td>
                    <td style="width: 246px;border-bottom: 1px dotted #7c7c7e;">@Model.CollectionDate.Value.ToString("dd/MM/yyyy")</td>
                    
                </tr>
                @*<tr>
                        <td style="width: 100px;">Consultant:</td>
                        <td style="border-bottom: 1px dotted #7c7c7e;" colspan="3">@Model.</td>

                    </tr>*@
                @if (Model.PackageName != "" && Model.PackageName != null)
                {
                    <tr>
                        <td style="width: 100px;">Package Name:</td>
                        <td style="border-bottom: 1px dotted #7c7c7e;" colspan="3">@Model.PackageName</td>
                    </tr>
                }
            </tbody>
        </table>


    </div>
    <br /><br />
    <div style="width: 100%;text-align: center;"><span></span></div>
    <table style="margin: 10px auto;" width="600">
        <tbody>
            <tr style="border: 1px solid">
                <td style="width: 500px; height: 18px; border: 1px solid; font-weight: bold; text-transform: uppercase;">

                    Particulars
                </td>
                <td style="width: 140px; border: 1px solid; text-align: center">

                    Amount
                </td>

            </tr>


            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">

                    Admission Fee
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.AdmissionFee
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    ICU Bed Charge
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.ICUBill
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">

                    Cabin/Bed Charge ( @Model.NoOfDays x @Model.PerCabinAmount )
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.CabinAmount
                </td>

            </tr>

            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">

                    Procedural Charge
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.InPatientDailyBill
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">

                    Medicine
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">
                    @Model.InPatientDrugBill
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Investigation Charge
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.InPatientTestBills
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Consultant's Visit
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.InPatientDoctorBills
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Duty Doctor Fee
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    0
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Nursing Charge
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    0
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Surgical Team
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.OTSurgeonBill
                </td>
            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Anaesthetiest
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.OTAneatestistBill
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Assistent
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">

                    @Model.OTAssistentBill
                </td>

            </tr>

            <tr style="border-bottom: #444444 1px dashed">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    OT Procedure
                </td>
                <td style="width: 140px; border-left: 1px solid; border-right: 1px solid; text-align: right">

                    @Model.OTOthersBill
                </td>

            </tr>

            <tr style="border-top: #444444 1px solid">
                <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                    Total Amount
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; font-weight: bold; text-align: right">
                    @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills )*@
                    @(Model.TotalBill - Model.ServiceCharge)
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid">
                    Service Charge (10%)
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right">
                    @Model.ServiceCharge
                </td>

            </tr>
            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid; ">
                    Total Discount
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right; ">
                    @(Model.DoctorDiscount + Model.HospitalDiscount)
                </td>
            </tr>
            <tr>
                <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                    Net Total
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right; font-weight: bold;">
                    @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge)*@
                    @(Model.TotalBill - Model.HospitalDiscount - Model.DoctorDiscount)
                </td>
            </tr>
            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid; ">
                    Total Deposit
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right; ">
                    @Model.AdvanceAmount
                </td>
            </tr>

            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                    Net Payable
                </td>
                <td style="width: 140px; border-left: 1px solid; border-right: 1px solid; text-align: right; font-weight: bold;">
                    @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge - @Model.AdvanceAmount)*@
                    @(Model.TotalBill - Model.AdvanceAmount - Model.HospitalDiscount - Model.DoctorDiscount)
                </td>
            </tr>
            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid;">
                    Total Payment
                </td>
                <td style="width: 140px; border-left: 1px solid; border-right: 1px solid; text-align: right;">
                    @Model.PaymentAmount

                </td>
            </tr>
            @if (Model.AfterPaymentDueAmount != 0)
            {
                <tr style="border-bottom: #444444 1px double">
                    <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                        Due Amount
                    </td>
                    <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right; font-weight: bold;">
                        @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge - @Model.AdvanceAmount)*@
                        @Model.AfterPaymentDueAmount
                    </td>
                </tr>
            }
            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                    Due Was
                </td>
                <td style="width: 140px; border-left: 1px solid; border-right: 1px solid; text-align: right; font-weight: bold;">
                    @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge - @Model.AdvanceAmount)*@
                    @Model.PreviousDue
                </td>
            </tr>
        <tr style="border-bottom: #444444 1px double">
            <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                Due Collection
            </td>
            <td style="width: 140px; border-left: 1px solid; border-right: 1px solid; text-align: right; font-weight: bold;">
                @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge - @Model.AdvanceAmount)*@
                @Model.DueCollection
            </td>
        </tr>
            <tr style="border-bottom: #444444 1px double">
                <td style="width: 500px; height: 18px; border-left: 1px solid; font-weight: bold;">
                    Due After Collection
                </td>
                <td style="width: 140px; border-left: 1px solid;border-right: 1px solid; text-align: right; font-weight: bold;">
                    @*@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge - @Model.AdvanceAmount)*@
                    @Model.DueAfterCollection
                </td>
            </tr>
        </tbody>
    </table>

    @*<div style="width: 100%;margin-top: 0px;text-align: center;float: left;">
            <div class="col-xs-4" style="width: 20%;float: left;"></div>
            <div class="col-xs-4" style="width: 35%;float: left;">@Model.TotalBill</div>

            <div class="col-xs-4" style="width: 45%;float: right;">Total Price :@(Model.InPatientDailyBill + Model.AdmissionFee + @Model.CabinAmount + @Model.InPatientDrugBill + @Model.InPatientTestBills + @Model.InPatientDoctorBills + @Model.ServiceCharge)  </div>
        </div>*@



    <div style="width: 100%;margin-top: 60px;text-align: center;float: left;">
        <div style="width: 33%;float: left;">Prepared By : @Model.CreatedBy</div>
        @*<div style="width: 33%;float: left;">Checked By</div>
            <div style="width: 33%;float: left;">Approved By</div>*@
    </div>
    <div style="width: 100%; text-align: center;">
        <button id="btnPrint" onclick="myFunction()" class="hide-from-printer" style="margin-top:10%">Print </button>
        <a id="btnCancel" href="@Url.Action("Index", "Home", new {Area = ""})" type="button" class="" style="margin-left: 1%;" class="hide-from-printer">Cancel</a>
    </div>
</div>


<script>
    function myFunction() {
        //Get the print button and put it into a variable
        var printButton = document.getElementById("btnPrint");
        var cancelButton = document.getElementById("btnCancel");
        //Set the print button visibility to 'hidden'
        printButton.style.visibility = 'hidden';
        cancelButton.style.visibility = 'hidden';
        //Print the page content
        window.print();
        //Set the print button to 'visible' again
        //[Delete this line if you want it to stay hidden after printing]
        printButton.style.visibility = 'visible';
        cancelButton.style.visibility = 'visible';


    }
</script>



<style type="text/css">
    @@page {
        size: auto;
        margin: 0;
    }

    @@print {
        .hide-from-printer {
            display: none;
        }
    }
</style>



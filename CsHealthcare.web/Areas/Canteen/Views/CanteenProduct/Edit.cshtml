

@model CsHealthcare.ViewModel.Canteen.ProductModel

@{

    Layout = "~/Views/Shared/_Layout.cshtml";
}


<div class="row">
    @*<div class="col-md-12">*@

    @using (Html.BeginForm("Edit", "CanteenProduct", new { area = "Canteen" }, FormMethod.Post, new { @class = "" }))
    {
        <div class="portlet light border" style="border-color:azure">

            <div class="portlet-title">
                <div class="caption">
                    <i class="fa fa-question font-green-sharp"></i>
                    <span class="caption-subject font-green-sharp uppercase">Canteen Product Information</span>
                </div>
                <div class="tools">
                    <a href="javascript:;" class="collapse">
                    </a>
                    <a href="javascript:;" class="fullscreen">
                    </a>
                </div>
                <div class="actions margin-right-10">

                </div>
            </div>
            <div class="portlet-body">
                <div class="col-md-6">
                    <!-- BEGIN Portlet PORTLET-->
                    <div class="portlet light border" style="border-color:azure">

                        @*<hr style="margin-top: 0;">*@
                        <div class="portlet-body">

                            <div class="form-horizontal">
                                @Html.ValidationSummary(true, "", new { @class = "text-danger" })

                                <div class="form-horizontal">

                                    <h3> Basic details :</h3>
                                    <div class="form-group">
                                        <div class="col-md-12 row">
                                            <div class="form-group col-md-6 ">
                                                <div class="col-md-12 ">
                                                    Name
                                                </div>
                                                <div class="col-md-12 ">

                                                    @Html.EditorFor(model => model.Name, new { htmlAttributes = new { @class = "form-control", required = "required" } })
                                                    @Html.ValidationMessageFor(model => model.Name, "", new { @class = "text-danger" })


                                                </div>
                                            </div>

                                            <div class="form-group col-md-6">
                                                <div class="col-md-12 ">
                                                    Category Name

                                                </div>
                                                <div class="col-md-12 ">
                                                    @Html.DropDownList("CategoryId", null, htmlAttributes: new { @class = "form-control border-radius-5", @required = "required" })
                                                    @*@Html.EditorFor(model => model.ProductId, new { htmlAttributes = new { @class = "form-control" } })*@
                                                    @Html.ValidationMessageFor(model => model.CategoryId, "", new { @class = "text-danger" })

                                                </div>
                                            </div>
                                        </div>
                                        <div class="col-md-12 row" style="margin-top: 50px">
                                            <div class="col-md-12">
                                                <div class="col-md-12 row">
                                                    Short Description
                                                </div>
                                                <div class="col-md-12 row">
                                                    @Html.EditorFor(model => model.ShortDescription, new { htmlAttributes = new { @class = "form-control", required = "" } })
                                                    @Html.ValidationMessageFor(model => model.ShortDescription, "", new { @class = "text-danger" })
                                                </div>
                                            </div>
                                        </div>


                                        <div class="col-md-12 row" style="margin-top: 50px">
                                            <div class="col-md-12">
                                                <div class="col-md-12 row">
                                                    FullDescription
                                                </div>
                                                <div class="col-md-12 row">
                                                    @Html.EditorFor(model => model.FullDescription, new { htmlAttributes = new { @class = "form-control", required = "" } })
                                                    @Html.ValidationMessageFor(model => model.FullDescription, "", new { @class = "text-danger" })
                                                </div>
                                            </div>


                                        </div>
                                    </div>


                                </div>


                            </div>





                        </div>
                    </div>
                </div>
            <div class="col-md-6">

                <div class="portlet light border" style="border-color: azure">

                    @*<hr style="margin-top: 0;">*@
                    <div class="portlet-body">

                        <div class="form-horizontal">
                            @Html.ValidationSummary(true, "", new {@class = "text-danger"})

                            <div class="form-horizontal">
                                @*<fieldset>*@
                                <h3>Price details :</h3>
                                <div class="form-group">
                                    <div class="col-md-12 row">
                                        <div class="form-group col-md-6 ">
                                            <div class="col-md-12 ">
                                                Stock Quantity
                                            </div>
                                            <div class="col-md-12 ">

                                                <select id="StockQuantity" name="StockQuantity" class="form-control">
                                                    <option>1</option>
                                                    <option>2</option>
                                                    <option>3</option>
                                                    <option>4</option>
                                                    <option>5</option>
                                                    <option>6</option>
                                                    <option>7</option>
                                                    <option>8</option>
                                                    <option>9</option>
                                                    <option>10</option>
                                                    <option>11</option>
                                                    <option>12</option>
                                                    <option>13</option>
                                                    <option>14</option>
                                                    <option>15</option>
                                                    <option>16</option>
                                                    <option>17</option>
                                                    <option>18</option>
                                                    <option>19</option>
                                                    <option>20</option>
                                                    <option>21</option>
                                                    <option>22</option>
                                                    <option>23</option>
                                                    <option>24</option>
                                                    <option>25</option>
                                                    <option>26</option>
                                                    <option>27</option>
                                                    <option>28</option>
                                                    <option>29</option>
                                                    <option>30</option>
                                                </select>
                                            </div>
                                        </div>

                                        <div class="form-group col-md-6">
                                            <div class="col-md-12 ">
                                                Min Stock Quantity
                                                @*@Html.LabelFor(model => model.MinStockQuantity, htmlAttributes: new { @class = "control-label col-md-4" })*@
                                            </div>
                                            <div class="col-md-12 ">
                                                @*@Html.EditorFor(model => model.MinStockQuantity, new {htmlAttributes = new {@class = "form-control"}})
                                                        @Html.ValidationMessageFor(model => model.MinStockQuantity, "", new {@class = "text-danger"})*@
                                                <select id="MinStockQuantity" name="MinStockQuantity" class="form-control">
                                                    <option>1</option>
                                                    <option>2</option>
                                                    <option>3</option>
                                                    <option>4</option>
                                                    <option>5</option>
                                                    <option>6</option>
                                                    <option>7</option>
                                                    <option>8</option>
                                                    <option>9</option>
                                                    <option>10</option>
                                                    <option>11</option>
                                                    <option>12</option>
                                                    <option>13</option>
                                                    <option>14</option>
                                                    <option>15</option>
                                                    <option>16</option>
                                                    <option>17</option>
                                                    <option>18</option>
                                                    <option>19</option>
                                                    <option>20</option>
                                                    <option>21</option>
                                                    <option>22</option>
                                                    <option>23</option>
                                                    <option>24</option>
                                                    <option>25</option>
                                                    <option>26</option>
                                                    <option>27</option>
                                                    <option>28</option>
                                                    <option>29</option>
                                                    <option>30</option>
                                                </select>
                                            </div>
                                        </div>
                                    </div>


                                    <div class="col-md-12 row" style="margin-top: 50px">
                                        <div class="col-md-12">
                                            <div class="col-md-12 row">
                                                Product Cost
                                            </div>
                                            <div class="col-md-12 row">
                                                @Html.EditorFor(model => model.ProductCost, new {htmlAttributes = new {@class = "form-control", required = ""}})
                                                @Html.ValidationMessageFor(model => model.ProductCost, "", new {@class = "text-danger"})
                                            </div>
                                        </div>


                                    </div>
                                    <div class="col-md-12 row" style="margin-top: 50px">
                                        <div class="col-md-12">
                                            <div class="col-md-12 row">
                                                Price
                                            </div>
                                            <div class="col-md-12 row">
                                                @Html.EditorFor(model => model.Price, new {htmlAttributes = new {@class = "form-control", required = ""}})
                                                @Html.ValidationMessageFor(model => model.Price, "", new {@class = "text-danger"})
                                            </div>
                                        </div>


                                    </div>



                                </div>

                                @*</fieldset>*@
                            </div>

                        </div>





                    </div>
                </div>
            </div>

                <div class="col-md-4">

                    @if (Model.PictureUrl != null && Model.PictureUrl != " ")
                    {
                        <img id="company_logo" Title="@Model.Name" style="width: 100%; margin-top: 5px;" class="product-pic img-responsive"
                             src="/@Model.PictureUrl" alt="Product Image" />
                    }
                    else
                    {
                        <img id="company_logo" Title="No Image" style="width: 45%; margin-top: 5px;" class="product-pic img-responsive"
                             src="~/Image/no-image.jpg" alt="No Image" />
                    }

                    <a class="btn btn-primary legitRipple" href="@Url.Action("ImageView", "CanteenProduct", new {Area = "Canteen"})" data-modal="" style="margin-top: 5px;">
                        <i class="fa fa-upload"></i>
                        Upload Image
                    </a>
                    @Html.Hidden("filePath", string.Empty, new { id = "filePath" })
                </div>


            <!-- END Portlet PORTLET-->
                <div class="modal-footer">
                    <a class="btn default" style="width: 15%;" href="@Url.Action("Index", "CanteenProduct", new {Area = "Canteen"})">Cancel</a>
                    <input type="submit" value="Save" class="btn green" style="width: 15%;" />
                </div>
            </div>
        </div>
    }
</div>
@section page_styles {
    <link href="~/assets/global/plugins/jcrop/css/jquery.Jcrop.css" rel="stylesheet"/>
    <link href="~/assets/global/plugins/jquery-file-upload/css/jquery.fileupload.css" rel="stylesheet"/>
    <link href="~/Assets/global/plugins/bootstrap-summernote/summernote.css" rel="stylesheet"/>

}
@*</div>*@
@section Scripts {
    <script src="~/Scripts/jquery.format.1.05.js"></script>
    <script src="~/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/vendor/jquery.ui.widget.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/jquery.iframe-transport.js"></script>
<script src="~/assets/global/plugins/bootstrap-datepicker/js/bootstrap-datepicker.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/jquery.fileupload.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-process.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-image.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-validate.js"></script>
<script src="~/assets/global/plugins/jquery-file-upload/js/jquery.fileupload-ui.js"></script>
    <script type="text/javascript">
        jQuery(document).ready(function () {
            allowInt();
            decimal_with_two_digit();
            $('#CategoryId').val('@ViewBag.Category');
            $('#StockQuantity').val('@ViewBag.StockQuantity');
            $('#MinStockQuantity').val('@ViewBag.MinStockQuantity');

        });


        function allowInt() {
            $(".integer").format({ precision: 0, allow_negative: false, autofix: true });
        }

        function decimal_with_two_digit() {
            $(".twodigitdecimalnumber").format({ precision: 2, allow_negative: false, autofix: true });
        }

    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $("#Price").keyup(function () {
                var pPrice = parseFloat($("#Price").val());
                var costPrice = Math.round(pPrice - ((25 * pPrice) / 100));
                $("#ProductCost").val(costPrice);
            });
        });
    </script>
}












